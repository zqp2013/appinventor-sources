<!DOCTYPE html>
<html lang="zh_CN"><!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>通信连接组件 · App Inventor 2 中文网</title>
    <meta name="keywords" content="App Inventor 2 中文网,参考文档,App Inventor 2中文网,app inventor中文官网,appinventor网页版,appinventor2网站,appinventor官网,APPinventor2网页最新版,app inventor2中文官网,appinventor2 汉化,搭建appinventor2服务器,app inventor2 论坛,AppInventor,App Inventor,App Inventor 2,AI2中文网,AI2 中文网,ai2,少儿编程,青少年编程">
	<meta name="description" content="App Inventor 2 中文网参考文档，通信连接组件参考文档：包括Activity启动器、蓝牙客户端、蓝牙服务器、串口通信器、Web客户端、SimpleBase64拓展、MQTT拓展、ClientSocket拓展。">
	<meta name="application-name" content="App Inventor 2 中文网"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link href="/static/css/fonts.css" rel="stylesheet">
    <link href="/static/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/static/css/mit_app_inventor.css?1">
    <link rel="stylesheet" type="text/css" href="/static/css/materialdesignicons.min.css">
    <link rel="stylesheet" type="text/css" href="/static/css/docs.css?2">
    <link rel="stylesheet" type="text/css" href="/static/css/prism.css">
    <script src="/static/js/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="/static/js/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="/static/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="/static/js/docs.js?2" crossorigin="anonymous"></script>
    <script src="/static/js/prism.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
     <!--//--><![CDATA[// ><!--

                                   var gotoappinventor = function() {
                                       var referrer = document.location.pathname;
                                       var patt = /.*hour-of-code.*/;
                                       if (referrer.match(patt)) {
                                           window.open("http://code.appinventor.mit.edu/", "new");
                                       } else {
                                           window.open("https://www.fun123.cn/", "new");
                                       }
                                   }
     //--><!]]>
    </script><!-- Hotjar Tracking Code for https://www.fun123.cn -->
<script>
    (function(h,o,t,j,a,r){
        h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
        h._hjSettings={hjid:3792684,hjsv:6};
        a=o.getElementsByTagName('head')[0];
        r=o.createElement('script');r.async=1;
        r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
        a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
</script>
</head>
<body class="mit_app_inventor"><nav class="navbar navbar-expand-xl navbar-light">
    <a class="navbar-brand" href="https://www.fun123.cn/">
	<img src="/static/images/logo.png" alt="Logo" style="height:72px;">
    </a>
    <button type="button" class="btn create-btn" style="margin-right: 20px;" onclick="gotoappinventor();">创建 Apps</button>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarContent"
            aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle Navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarContent">
	<ul class="navbar-nav" style="margin-left: auto;">
		<li class="nav-item">
		<a class="nav-link" href="https://www.fun123.cn/reference/">首页</a>
		</li>
	    <li class="nav-item dropdown">
		<a class="nav-link" href="https://www.fun123.cn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    关于我们
		</a>
		<div class="dropdown-menu">
		    <a class="dropdown-item" href="https://www.fun123.cn/reference/info/about-us.html?f=ref">关于我们</a>
			<a class="dropdown-item" href="https://www.fun123.cn/reference/info/ReleaseNotes.html?f=ref" target="_blank">发布日志</a>
			<a class="dropdown-item" href="https://www.fun123.cn/Ya_tos_form.html?f=ref" target="_blank">服务条款</a>
		</div>
	    </li>
	    <li class="nav-item dropdown">
		<a class="nav-link" href="https://www.fun123.cn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
		    教育
		</a>
		<div class="dropdown-menu">
			<a class="dropdown-item" href="https://www.fun123.cn/reference/info/?f=ref#AppEntry" target="_blank">项目指南</a>
		    <a class="dropdown-item" href="https://bbs.tsingfun.com/forum-147-1.html?f=ref" target="_blank">中文论坛</a>
		    <a class="dropdown-item" href="https://www.fun123.cn/reference/tutorials?f=ref">中文教程</a>
		</div>
	    </li>
		<li class="nav-item dropdown">
		<a class="nav-link" href="https://www.fun123.cn" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			反馈
		</a>
		<div class="dropdown-menu">
			<a class="dropdown-item" href="https://support.qq.com/products/514085" target="_blank">我要反馈</a>
		</div>
		</li>
    </ul>
        <div style="display: inline-flex;margin-left:auto;margin-right:0">
				<script>
					var _hmt = _hmt || [];
					(function() {
					  var hm = document.createElement("script");
					  hm.src = "https://hm.baidu.com/hm.js?8d287b854d737bdc880e8ddeac1b309d";
					  var s = document.getElementsByTagName("script")[0]; 
					  s.parentNode.insertBefore(hm, s);
					})();
				</script>
        </div>
	<!-- <form class="form-inline" action="/action_page.php">
	     <div class="form-group has-search">
	     <span class="fa fa-search form-control-feedback"></span>
	     <input type="text" class="form-control" placeholder="Search">
	     </div>
	     </form> -->
    </div>
	<div class="collapse navbar-collapse">
		<img src="/static/images/hello.png" alt="你好">
	</div>
</nav>
<div class="default-page">
            <div class="header">
	        <h1 class="font-weight-bold text-center offset-xl-2 col-xl-8">通信连接组件</h1>
            </div>
            <div class="container-fluid">
                <article class="documentation">
<ul id="markdown-toc">
  <li><a href="#--通信连接组件" id="markdown-toc---通信连接组件"><i class="mdi mdi-access-point"></i>  通信连接组件</a>    <ul>
      <li><a href="#ActivityStarter" id="markdown-toc-ActivityStarter"><img src="images/activitystarter.png" alt="icon" />  Activity启动器</a>        <ul>
          <li><a href="#ActivityStarter-Properties" id="markdown-toc-ActivityStarter-Properties">属性</a></li>
          <li><a href="#ActivityStarter-Events" id="markdown-toc-ActivityStarter-Events">事件</a></li>
          <li><a href="#ActivityStarter-Methods" id="markdown-toc-ActivityStarter-Methods">方法</a></li>
        </ul>
      </li>
      <li><a href="#BluetoothClient" id="markdown-toc-BluetoothClient"><img src="images/bluetoothclient.png" alt="icon" />  蓝牙客户端</a>        <ul>
          <li><a href="#BluetoothClient-Properties" id="markdown-toc-BluetoothClient-Properties">属性</a></li>
          <li><a href="#BluetoothClient-Events" id="markdown-toc-BluetoothClient-Events">事件</a></li>
          <li><a href="#BluetoothClient-Methods" id="markdown-toc-BluetoothClient-Methods">方法</a></li>
        </ul>
      </li>
      <li><a href="#BluetoothServer" id="markdown-toc-BluetoothServer"><img src="images/bluetoothserver.png" alt="icon" />  蓝牙服务器</a>        <ul>
          <li><a href="#BluetoothServer-Properties" id="markdown-toc-BluetoothServer-Properties">属性</a></li>
          <li><a href="#BluetoothServer-Events" id="markdown-toc-BluetoothServer-Events">事件</a></li>
          <li><a href="#BluetoothServer-Methods" id="markdown-toc-BluetoothServer-Methods">方法</a></li>
        </ul>
      </li>
      <li><a href="#Serial" id="markdown-toc-Serial"><img src="images/serial.png" alt="icon" />  串口通信器</a>        <ul>
          <li><a href="#Serial-Properties" id="markdown-toc-Serial-Properties">属性</a></li>
          <li><a href="#Serial-Events" id="markdown-toc-Serial-Events">事件</a></li>
          <li><a href="#Serial-Methods" id="markdown-toc-Serial-Methods">方法</a></li>
        </ul>
      </li>
      <li><a href="#Web" id="markdown-toc-Web"><img src="images/web.png" alt="icon" />  Web客户端</a>        <ul>
          <li><a href="#Web-Properties" id="markdown-toc-Web-Properties">属性</a></li>
          <li><a href="#Web-Events" id="markdown-toc-Web-Events">事件</a></li>
          <li><a href="#Web-Methods" id="markdown-toc-Web-Methods">方法</a></li>
        </ul>
      </li>
      <li><a href="#SimpleBase64" id="markdown-toc-SimpleBase64">SimpleBase64 <em>拓展</em></a>        <ul>
          <li><a href="#SimpleBase64-Properties" id="markdown-toc-SimpleBase64-Properties">属性</a></li>
          <li><a href="#SimpleBase64-Events" id="markdown-toc-SimpleBase64-Events">事件</a></li>
          <li><a href="#SimpleBase64-Methods" id="markdown-toc-SimpleBase64-Methods">方法</a></li>
        </ul>
      </li>
      <li><a href="#Mqtt" id="markdown-toc-Mqtt"><img src="../extensions/images/mqtt_icon.png" style="width:16px;margin:-4px 5px 0 0" />MqttClient 拓展</a></li>
      <li><a href="#Socket" id="markdown-toc-Socket">ClientSocket 拓展</a>        <ul>
          <li><a href="#ClientSocket-Properties" id="markdown-toc-ClientSocket-Properties">属性</a></li>
          <li><a href="#ClientSocket-Events" id="markdown-toc-ClientSocket-Events">事件</a></li>
          <li><a href="#ClientSocket-Methods" id="markdown-toc-ClientSocket-Methods">方法</a>            <ul>
              <li><a href="#已知的bug" id="markdown-toc-已知的bug"><em>已知的bug</em>：</a></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p><a href="index.html">« 返回首页</a></p>
<h1 id="--通信连接组件"><i class="mdi mdi-access-point"></i>  通信连接组件</h1>

<p>目录：</p>

<ol>
  <li><img src="images/activitystarter.png" alt="icon" />  <a href="#ActivityStarter">Activity启动器</a></li>
  <li><img src="images/bluetoothclient.png" alt="icon" />  <a href="#BluetoothClient">蓝牙客户端</a></li>
  <li><img src="images/bluetoothserver.png" alt="icon" />  <a href="#BluetoothServer">蓝牙服务器</a></li>
  <li><img src="images/serial.png" alt="icon" />  <a href="#Serial">串口通信器</a></li>
  <li><img src="images/web.png" alt="icon" />  <a href="#Web">Web客户端</a>
    <ul>
      <li><a href="#SimpleBase64">SimpleBase64 <em>拓展：图像Base64编解码传输</em></a></li>
      <li><a href="../extensions/KIO4_Base64.html">KIO4_Base64 <em>拓展：更强大的图像Base64编解码工具，解码后的图像可写入到文件</em></a></li>
    </ul>
  </li>
  <li><img src="../extensions/images/mqtt_icon.png" style="width:16px;margin:-4px 5px 0 0" /><a href="#Mqtt">MQTT <em>拓展：轻量级物联网传输协议</em></a></li>
  <li><a href="#Socket">Socket <em>拓展：TCP/IP传输协议</em></a></li>
</ol>

<h2 id="ActivityStarter"><img src="images/activitystarter.png" alt="icon" />  Activity启动器</h2>

<p>使用<code class="highlighter-rouge">启动Activity</code>方法启动一个Activity（活动）的组件。</p>

<p>可启动的Activity包括：</p>
<ul>
  <li>
    <p>为 Android 应用启动另一个 App Inventor。 首先通过下载源代码并使用文件资源管理器或解压缩utility，找到一个名为“youngandroidproject/project.properties”的文件，找出另一个程序的的类。</p>

    <p>文件的第一行将开始使用“main=”并后跟类名。
例如：<code class="highlighter-rouge">main=com.gmail.Bitdiddle.Ben.HelloPurr.Screen1</code>（第一个组件表明它是由 Ben.Bitdiddle@gmail.com 创建）要让您的 <code class="highlighter-rouge">Activity启动器</code> 启动此应用程序，设置以下属性：</p>
    <ul>
      <li><code class="highlighter-rouge">ActivityPackage</code> 到类名，删除最后一个组件（例如： <code class="highlighter-rouge">com.gmail.Bitdiddle.Ben.HelloPurr</code>)</li>
      <li><code class="highlighter-rouge">ActivityClass</code> 到整个类名（例如：<code class="highlighter-rouge">com.gmail.Bitdiddle.Ben.HelloPurr.Screen1</code>)</li>
    </ul>
  </li>
  <li>通过设置以下属性启动相机应用程序：
    <ul>
      <li><code class="highlighter-rouge">Action</code>: <code class="highlighter-rouge">android.intent.action.MAIN</code></li>
      <li><code class="highlighter-rouge">ActivityPackage</code>: <code class="highlighter-rouge">com.android.camera</code></li>
      <li><code class="highlighter-rouge">ActivityClass</code>: <code class="highlighter-rouge">com.android.camera.Camera</code></li>
    </ul>
  </li>
  <li>执行网络搜索。 假设您要搜索的词是“vampire”（您可以随意替换自己的选择），将属性设置为：
    <ul>
      <li><code class="highlighter-rouge">Action</code>: <code class="highlighter-rouge">android.intent.action.WEB_SEARCH</code></li>
      <li><code class="highlighter-rouge">ExtraKey</code>: <code class="highlighter-rouge">query</code></li>
      <li><code class="highlighter-rouge">ExtraValue</code>: <code class="highlighter-rouge">vampire</code></li>
      <li><code class="highlighter-rouge">ActivityPackage</code>: <code class="highlighter-rouge">com.google.android.providers.enhancedgooglesearch</code></li>
      <li><code class="highlighter-rouge">ActivityClass</code>: <code class="highlighter-rouge">com.google.android.providers.enhancedgooglesearch.Launcher</code></li>
    </ul>
  </li>
  <li>打开浏览器到指定的网页。 假设您要访问的页面是“www.fun123.cn”（您可以随意替换自己的选择），将属性设置为：
    <ul>
      <li><code class="highlighter-rouge">Action</code>: <code class="highlighter-rouge">android.intent.action.VIEW</code></li>
      <li><code class="highlighter-rouge">DataUri</code>: <code class="highlighter-rouge">http://www.fun123.cn</code></li>
      <li>调用第三方地图也可以使用这个启动器：</li>
      <li>调用高德地图的uri参考地址：<a href="https://lbs.amap.com/api/uri-api/guide/mobile-web/point/#point-on-lnglat">https://lbs.amap.com/api/uri-api/guide/mobile-web/point/#point-on-lnglat</a></li>
      <li>调用百度地图的uri参考地址：<a href="https://lbsyun.baidu.com/index.php?title=uri/api/web">https://lbsyun.baidu.com/index.php?title=uri/api/web</a></li>
    </ul>
  </li>
  <li>打开系统照相机（比<a href="media.html#Camera">照相机</a>组件打开的界面会丰富一些）
    <ul>
      <li><code class="highlighter-rouge">Action</code>: <code class="highlighter-rouge">android.media.action.STILL_IMAGE_CAMERA</code></li>
    </ul>
  </li>
  <li>可选取多个文件（图片、音频、视频等）：
    <ul>
      <li><code class="highlighter-rouge">Action</code>: <code class="highlighter-rouge">android.intent.action.GET_CONTENT</code></li>
    </ul>
  </li>
</ul>

<h3 id="ActivityStarter-Properties">属性</h3>

<dl class="properties">
  <dt id="ActivityStarter.Action" class="text"><em>Action</em></dt>
  <dd>指定将用于启动Activity活动的操作。</dd>
  <dt id="ActivityStarter.ActivityClass" class="text"><em>Activity类名</em></dt>
  <dd>指定将启动的特定组件的Class类部分。</dd>
  <dt id="ActivityStarter.ActivityPackage" class="text"><em>Activity包名</em></dt>
  <dd>指定将启动的特定组件的包部分。</dd>
  <dt id="ActivityStarter.DataType" class="text"><em>数据类型</em></dt>
  <dd>指定要传递给Activity活动的 MIME 类型。</dd>
  <dt id="ActivityStarter.DataUri" class="text"><em>数据URI</em></dt>
  <dd>指定将用于启动Activity活动的数据URI。</dd>
  <dt id="ActivityStarter.ExtraKey" class="text"><em>ExtraKey</em></dt>
  <dd>指定将传递给Activity活动的额外键。（已过时，应使用 Extras）</dd>
  <dt id="ActivityStarter.ExtraValue" class="text"><em>ExtraValue</em></dt>
  <dd>指定将传递给Activity活动的额外值。（已过时，应使用 Extras）</dd>
  <dt id="ActivityStarter.Extras" class="list bo"><em>Extras</em></dt>
  <dd>返回将作为额外数据传递给Activity活动的键值对列表。</dd>
  <dt id="ActivityStarter.Result" class="text ro bo"><em>结果</em></dt>
  <dd>返回Activity活动的结果。</dd>
  <dt id="ActivityStarter.ResultName" class="text"><em>结果名称</em></dt>
  <dd>指定一个名称，用于从Activity活动中获取结果。</dd>
  <dt id="ActivityStarter.ResultType" class="text ro bo"><em>结果类型</em></dt>
  <dd>从Activity活动中返回的结果 MIME 类型。</dd>
  <dt id="ActivityStarter.ResultUri" class="text ro bo"><em>结果URI地址</em></dt>
  <dd>从Activity活动中返回的结果URI。</dd>
</dl>

<h3 id="ActivityStarter-Events">事件</h3>

<dl class="events">
  <dt id="ActivityStarter.ActivityCanceled">取消活动调用()</dt>
  <dd>如果此 <code class="highlighter-rouge">Activity启动器</code> 因为Activity活动被取消而返回，则引发该事件。</dd>
  <dt id="ActivityStarter.AfterActivity">活动调用结束(<em class="text">result</em>)</dt>
  <dd>此 <code class="highlighter-rouge">Activity启动器</code> 返回后触发的事件。</dd>
</dl>

<h3 id="ActivityStarter-Methods">方法</h3>

<dl class="methods">
  <dt id="ActivityStarter.ResolveActivity" class="method returns text"><i></i> 处理活动信息()</dt>
  <dd>返回与此 <code class="highlighter-rouge">Activity启动器</code> 对应的Activity活动名称，如果找不到相应的Activity活动，则为空字符串。</dd>
  <dt id="ActivityStarter.StartActivity" class="method"><i></i> 启动活动对象()</dt>
  <dd>启动这个 <code class="highlighter-rouge">Activity启动器</code> 对应的Activity活动。</dd>
</dl>

<h2 id="BluetoothClient"><img src="images/bluetoothclient.png" alt="icon" />  蓝牙客户端</h2>

<p>使用 <code class="highlighter-rouge">蓝牙客户端</code> 通过蓝牙将您的设备连接到其他设备。这个组件使用串行端口配置文件 (SPP) 进行通信。</p>

<p>如果您有兴趣使用低能耗蓝牙，请看 <a href="http://iot.appinventor.mit.edu/#/bluetoothle/bluetoothleintro">BluetoothLE</a> 扩展。</p>

<h3 id="BluetoothClient-Properties">属性</h3>

<dl class="properties">
  <dt id="BluetoothClient.AddressesAndNames" class="list ro bo"><em>地址及名称</em></dt>
  <dd>返回配对的蓝牙设备列表，返回的列表每个元素都是一个字符串，由设备地址、一个空格和设备的名称组成。

    <p><strong>蓝牙设备列表为空？</strong></p>

    <p class="vip">你可能没有开启AI伴侣或编译后App的发现蓝牙权限，这里以AI伴侣为例，勾上即可：<br />
<img src="images/开启发现蓝牙设备的权限.png" alt="开启发现蓝牙设备的权限" /></p>

    <p><strong>需要过滤蓝牙设备列表？</strong></p>

    <p class="vip">请参考<a href="../creative/filter_devicelist.html">《App Inventor 2 过滤蓝牙设备列表》</a>。</p>
  </dd>
  <dt id="BluetoothClient.Available" class="boolean ro bo"><em>可用状态</em></dt>
  <dd>如果设备上有蓝牙功能，则返回<code class="logic block highlighter-rouge">真</code>，否则返回<code class="logic block highlighter-rouge">假</code>。</dd>
  <dt id="BluetoothClient.CharacterEncoding" class="text"><em>字符编码</em></dt>
  <dd>返回发送和接收文本时使用的字符集编码（如GBK，UTF-8）。</dd>
  <dt id="BluetoothClient.DelimiterByte" class="number"><em>分隔符字节码</em></dt>
  <dd>调用 ReceiveText、ReceiveSignedBytes 或 ReceiveUnsignedBytes 返回传递负数时使用的分隔符字节码。</dd>
  <dt id="BluetoothClient.DisconnectOnError" class="boolean"><em>错误时断开连接</em></dt>
  <dd>指定 蓝牙客户端/蓝牙服务器 是否在发生错误时自动断开连接。</dd>
  <dt id="BluetoothClient.Enabled" class="boolean ro bo"><em>启用</em></dt>
  <dd>如果启用了蓝牙，返回<code class="logic block highlighter-rouge">真</code>，否则返回<code class="logic block highlighter-rouge">假</code>。</dd>
  <dt id="BluetoothClient.HighByteFirst" class="boolean"><em>高位优先</em></dt>
  <dd>指定发送和接收数字时是否使用最高有效位字节优先。</dd>
  <dt id="BluetoothClient.IsConnected" class="boolean ro bo"><em>是否已连接</em></dt>
  <dd>如果已建立与蓝牙设备的连接，则返回 <code class="logic block highlighter-rouge">真</code>。</dd>
  <dt id="BluetoothClient.PollingRate" class="number"><em>轮询率</em></dt>
  <dd>返回蓝牙客户端配置的轮询速率值。</dd>
  <dt id="BluetoothClient.Secure" class="boolean"><em>启用安全连接</em></dt>
  <dd>指定是否启用安全连接。</dd>
</dl>

<h3 id="BluetoothClient-Events">事件</h3>

<p class="events">无</p>

<p><strong>中文网注：</strong></p>

<p>蓝牙客户端没有“当收到数据时”的事件（即收到服务端数据后触发的事件），只能通过定时器定期轮询接收数据，可以考虑使用BluetoothLE低功耗蓝牙<a href="../extensions/index.html">拓展</a>，它拥有这个事件。</p>

<h3 id="BluetoothClient-Methods">方法</h3>

<dl class="methods">
  <dt id="BluetoothClient.BytesAvailableToReceive" class="method returns number"><i></i> 获取接收字节数()</dt>
  <dd>返回输入流中可用的字节数。</dd>
  <dt id="BluetoothClient.Connect" class="method returns boolean"><i></i> 连接(<em class="text">地址</em>)</dt>
  <dd>连接到指定地址的蓝牙设备。

    <p><strong>连接报错？ Runtime Error: Need android.permission.BLUETOOTH_CONNECT …</strong></p>

    <p><img src="images/BLUETOOTH_CONNECT_permission.png" alt="BLUETOOTH_CONNECT_permission" /></p>

    <p class="vip">这时需要请求蓝牙连接权限，参考代码如下：<br />
<img src="images/请求蓝牙连接权限.png" alt="请求蓝牙连接权限" /></p>
  </dd>
  <dt id="BluetoothClient.ConnectWithUUID" class="method returns boolean"><i></i> 连接指定设备(<em class="text">地址</em>,<em class="text">唯一编号</em>)</dt>
  <dd>连接到指定地址和UUID的蓝牙设备。</dd>
  <dt id="BluetoothClient.Disconnect" class="method"><i></i> 断开连接()</dt>
  <dd>断开已连接的蓝牙设备。</dd>
  <dt id="BluetoothClient.IsDevicePaired" class="method returns boolean"><i></i> 检查设备是否配对(<em class="text">地址</em>)</dt>
  <dd>检查指定地址的蓝牙设备是否已配对。</dd>
  <dt id="BluetoothClient.ReceiveSigned1ByteNumber" class="method returns number"><i></i> 接收单字节带符号数字()</dt>
  <dd>读取带符号的 1 字节数字。</dd>
  <dt id="BluetoothClient.ReceiveSigned2ByteNumber" class="method returns number"><i></i> 接收双字节带符号数字()</dt>
  <dd>读取带符号的 2 字节数字。</dd>
  <dt id="BluetoothClient.ReceiveSigned4ByteNumber" class="method returns number"><i></i> 接收四字节带符号数字()</dt>
  <dd>读取带符号的 4 字节数字。</dd>
  <dt id="BluetoothClient.ReceiveSignedBytes" class="method returns list"><i></i> 接收带符号字节数组(<em class="number">字节数</em>)</dt>
  <dd>从输入流中读取指定数量(<code class="highlighter-rouge">字节数</code>)的带符号的字节，并将它们作为列表返回。

    <p>如果 <code class="highlighter-rouge">字节数</code> 为负数，则读取到分隔符字节码（<em>分隔符字节码</em>属性指定的）为止，分隔符字节码包含在返回的列表中。</p>
  </dd>
  <dt id="BluetoothClient.ReceiveText" class="method returns text"><i></i> 接收文本(<em class="number">字节数</em>)</dt>
  <dd>从输入流中读取指定数量(<code class="highlighter-rouge">字节数</code>)的带符号的字节，并将它们转换为文本。

    <p>如果 <code class="highlighter-rouge">字节数</code> 为负数，则读取到分隔符字节码（<em>分隔符字节码</em>属性指定的）为止。</p>
  </dd>
  <dt id="BluetoothClient.ReceiveUnsigned1ByteNumber" class="method returns number"><i></i> 接收单字节无符号数字()</dt>
  <dd>读取一个无符号的 1 字节数字。</dd>
  <dt id="BluetoothClient.ReceiveUnsigned2ByteNumber" class="method returns number"><i></i> 接收双字节无符号数字()</dt>
  <dd>读取一个无符号的 2 字节数字。</dd>
  <dt id="BluetoothClient.ReceiveUnsigned4ByteNumber" class="method returns number"><i></i> 接收四字节无符号数字()</dt>
  <dd>读取一个无符号的 4 字节数字。</dd>
  <dt id="BluetoothClient.ReceiveUnsignedBytes" class="method returns list"><i></i> 接收无符号字节数组(<em class="number">字节数</em>)</dt>
  <dd>从输入流中读取指定数量(<code class="highlighter-rouge">字节数</code>)的无符号的字节，并将它们作为列表返回。

    <p>如果 <code class="highlighter-rouge">字节数</code> 为负数，则读取到分隔符字节码（<em>分隔符字节码</em>属性指定的）为止，分隔符字节码包含在返回的列表中。</p>
  </dd>
  <dt id="BluetoothClient.Send1ByteNumber" class="method"><i></i> 发送单字节数字(<em class="text">数值</em>)</dt>
  <dd>将指定的<code class="highlighter-rouge">数值</code>字符串转换成整数，并将其作为 1 个字节写入到输出流。

    <p>如果<code class="highlighter-rouge">数值</code>无法转换为整数，或转换的整数 1 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothClient.Send2ByteNumber" class="method"><i></i> 发送双字节数字(<em class="text">数值</em>)</dt>
  <dd>将指定的<code class="highlighter-rouge">数值</code>字符串转换成整数，并将其作为 2 个字节写入到输出流。

    <p>如果<code class="highlighter-rouge">数值</code>无法转换为整数，或转换的整数 2 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothClient.Send4ByteNumber" class="method"><i></i> 发送四字节数字(<em class="text">数值</em>)</dt>
  <dd>将指定的<code class="highlighter-rouge">数值</code>字符串转换成整数，并将其作为 4 个字节写入到输出流。

    <p>如果<code class="highlighter-rouge">数值</code>无法转换为整数，或转换的整数 4 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothClient.SendBytes" class="method"><i></i> 发送字节数组(<em class="list">列表</em>)</dt>
  <dd>从指定列表中取出每个元素，将其转换为字符串，字符串转换成整数，并将其作为 1 个字节写入到输出流。

    <p>如果一个元素无法转换为整数，或转换的整数 1 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothClient.SendText" class="method"><i></i> 发送文本(<em class="text">文本</em>)</dt>
  <dd>将指定文本转换为字节并将它们写入到输出流。</dd>
</dl>

<h2 id="BluetoothServer"><img src="images/bluetoothserver.png" alt="icon" />  蓝牙服务器</h2>

<p>使用 <code class="highlighter-rouge">蓝牙服务器</code> 组件将您的设备变成接收来自其他使用 <code class="highlighter-rouge">蓝牙客户端</code> 组件的应用程序连接的服务器。</p>

<h3 id="BluetoothServer-Properties">属性</h3>

<dl class="properties">
  <dt id="BluetoothServer.Available" class="boolean ro bo"><em>可用状态</em></dt>
  <dd>如果设备上有蓝牙功能，则返回<code class="logic block highlighter-rouge">真</code>，否则返回<code class="logic block highlighter-rouge">假</code>。</dd>
  <dt id="BluetoothServer.CharacterEncoding" class="text"><em>字符编码</em></dt>
  <dd>返回发送和接收文本时使用的字符编码。</dd>
  <dt id="BluetoothServer.DelimiterByte" class="number"><em>分隔符字节码</em></dt>
  <dd>调用 ReceiveText、ReceiveSignedBytes 或 ReceiveUnsignedBytes 返回传递负数时使用的分隔符字节码。</dd>
  <dt id="BluetoothServer.Enabled" class="boolean ro bo"><em>启用</em></dt>
  <dd>如果启用了蓝牙，返回<code class="logic block highlighter-rouge">真</code>，否则返回<code class="logic block highlighter-rouge">假</code>。</dd>
  <dt id="BluetoothServer.HighByteFirst" class="boolean"><em>高位优先</em></dt>
  <dd>指定发送和接收数字时是否使用最高有效位字节优先。</dd>
  <dt id="BluetoothServer.IsAccepting" class="boolean ro bo"><em>接收状态</em></dt>
  <dd>如果此 <code class="highlighter-rouge">蓝牙服务器</code> 组件正在接受一个传入连接，则返回<code class="logic block highlighter-rouge">真</code>。</dd>
  <dt id="BluetoothServer.IsConnected" class="boolean ro bo"><em>连接状态</em></dt>
  <dd>如果与蓝牙设备已建立连接，则返回 <code class="logic block highlighter-rouge">真</code>。</dd>
  <dt id="BluetoothServer.Secure" class="boolean"><em>启用安全连接</em></dt>
  <dd>指定是否启用安全连接。</dd>
</dl>

<h3 id="BluetoothServer-Events">事件</h3>

<dl class="events">
  <dt id="BluetoothServer.ConnectionAccepted">接受连接()</dt>
  <dd>表示已接受蓝牙连接。</dd>
</dl>

<p><strong>中文网注：</strong></p>

<p>蓝牙服务端没有“当收到数据时”的事件（即收到客户端数据后触发的事件），只能通过定时器定期轮询接收数据，可以考虑使用BluetoothLE低功耗蓝牙<a href="../extensions/index.html">拓展</a>，它拥有这个事件。</p>

<h3 id="BluetoothServer-Methods">方法</h3>

<dl class="methods">
  <dt id="BluetoothServer.AcceptConnection" class="method"><i></i> 接受连接(<em class="text">服务名</em>)</dt>
  <dd>接受使用串行端口配置文件 (SPP) 进行通信的传入连接。</dd>
  <dt id="BluetoothServer.AcceptConnectionWithUUID" class="method"><i></i> 接受与指定设备连接(<em class="text">服务名</em>,<em class="text">唯一编号</em>)</dt>
  <dd>接受指定 UUID 的传入连接。</dd>
  <dt id="BluetoothServer.BytesAvailableToReceive" class="method returns number"><i></i> 获取接收字节数()</dt>
  <dd>返回输入流中可用的字节数。</dd>
  <dt id="BluetoothServer.Disconnect" class="method"><i></i> 断开连接()</dt>
  <dd>断开当前已连接的蓝牙设备。</dd>
  <dt id="BluetoothServer.ReceiveSigned1ByteNumber" class="method returns number"><i></i> 接收单字节带符号数字()</dt>
  <dd>读取带符号的 1 字节数字。</dd>
  <dt id="BluetoothServer.ReceiveSigned2ByteNumber" class="method returns number"><i></i> 接收双字节带符号数字()</dt>
  <dd>读取带符号的 2 字节数字。</dd>
  <dt id="BluetoothServer.ReceiveSigned4ByteNumber" class="method returns number"><i></i> 接收四字节带符号数字()</dt>
  <dd>读取带符号的 4 字节数字。</dd>
  <dt id="BluetoothServer.ReceiveSignedBytes" class="method returns list"><i></i> 接收带符号字节数组(<em class="number">字节数</em>)</dt>
  <dd>从输入流中读取指定数量(<code class="highlighter-rouge">字节数</code>)的带符号的字节，并将它们作为列表返回。

    <p>如果 <code class="highlighter-rouge">字节数</code> 为负数，则读取到分隔符字节码（<em>分隔符字节码</em>属性指定的）为止，分隔符字节码包含在返回的列表中。</p>
  </dd>
  <dt id="BluetoothServer.ReceiveText" class="method returns text"><i></i> 接收文本(<em class="number">字节数</em>)</dt>
  <dd>从输入流中读取指定数量(<code class="highlighter-rouge">字节数</code>)的带符号的字节，并将它们转换为文本。

    <p>如果 <code class="highlighter-rouge">字节数</code> 为负数，则读取到分隔符字节码（<em>分隔符字节码</em>属性指定的）为止。</p>
  </dd>
  <dt id="BluetoothServer.ReceiveUnsigned1ByteNumber" class="method returns number"><i></i> 接收单字节无符号数字()</dt>
  <dd>读取一个无符号的 1 字节数字。</dd>
  <dt id="BluetoothServer.ReceiveUnsigned2ByteNumber" class="method returns number"><i></i> 接收双字节无符号数字()</dt>
  <dd>读取一个无符号的 2 字节数字。</dd>
  <dt id="BluetoothServer.ReceiveUnsigned4ByteNumber" class="method returns number"><i></i> 接收四字节无符号数字()</dt>
  <dd>读取一个无符号的 4 字节数字。</dd>
  <dt id="BluetoothServer.ReceiveUnsignedBytes" class="method returns list"><i></i> 接收无符号字节数组(<em class="number">字节数</em>)</dt>
  <dd>从输入流中读取指定数量(<code class="highlighter-rouge">字节数</code>)的无符号的字节，并将它们作为列表返回。

    <p>如果 <code class="highlighter-rouge">字节数</code> 为负数，则读取到分隔符字节码（<em>分隔符字节码</em>属性指定的）为止，分隔符字节码包含在返回的列表中。</p>
  </dd>
  <dt id="BluetoothServer.Send1ByteNumber" class="method"><i></i> 发送单字节数字(<em class="text">数值</em>)</dt>
  <dd>将指定的<code class="highlighter-rouge">数值</code>字符串转换成整数，并将其作为 1 个字节写入到输出流。

    <p>如果<code class="highlighter-rouge">数值</code>无法转换为整数，或转换的整数 1 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothServer.Send2ByteNumber" class="method"><i></i> 发送双字节数字(<em class="text">数值</em>)</dt>
  <dd>将指定的<code class="highlighter-rouge">数值</code>字符串转换成整数，并将其作为 2 个字节写入到输出流。

    <p>如果<code class="highlighter-rouge">数值</code>无法转换为整数，或转换的整数 2 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothServer.Send4ByteNumber" class="method"><i></i> 发送四字节数字(<em class="text">数值</em>)</dt>
  <dd>将指定的<code class="highlighter-rouge">数值</code>字符串转换成整数，并将其作为 4 个字节写入到输出流。

    <p>如果<code class="highlighter-rouge">数值</code>无法转换为整数，或转换的整数 4 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothServer.SendBytes" class="method"><i></i> 发送字节数组(<em class="list">列表</em>)</dt>
  <dd>从指定列表中取出每个元素，将其转换为字符串，字符串转换成整数，并将其作为 1 个字节写入到输出流。

    <p>如果一个元素无法转换为整数，或转换的整数 1 个字节不够表达，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件，然后方法直接返回，不会向输出流中写入任何字节。</p>
  </dd>
  <dt id="BluetoothServer.SendText" class="method"><i></i> 发送文本(<em class="text">文本</em>)</dt>
  <dd>将指定文本转换为字节并将它们写入到输出流。</dd>
  <dt id="BluetoothServer.StopAccepting" class="method"><i></i> 停止接受连接()</dt>
  <dd>停止接受传入连接。</dd>
</dl>

<h2 id="Serial"><img src="images/serial.png" alt="icon" />  串口通信器</h2>

<p>串口通信组件。</p>

<h3 id="Serial-Properties">属性</h3>

<dl class="properties">
  <dt id="Serial.BaudRate" class="number"><em>波特率</em></dt>
  <dd>返回当前波特率。</dd>
  <dt id="Serial.BufferSize" class="number"><em>缓冲区大小</em></dt>
  <dd>返回缓冲区大小（以字节为单位）</dd>
  <dt id="Serial.IsInitialized" class="boolean ro bo"><em>是否已初始化</em></dt>
  <dd>当串口已初始化时返回 <code class="highlighter-rouge">真</code>。</dd>
  <dt id="Serial.IsOpen" class="boolean ro bo"><em>是否打开</em></dt>
  <dd>当串口连接打开时返回 <code class="highlighter-rouge">真</code>。</dd>
</dl>

<h3 id="Serial-Events">事件</h3>

<p class="events">无</p>

<h3 id="Serial-Methods">方法</h3>

<dl class="methods">
  <dt id="Serial.CloseSerial" class="method returns boolean"><i></i> 关闭串口()</dt>
  <dd>关闭串口连接。关闭时返回 <code class="highlighter-rouge">真</code>。</dd>
  <dt id="Serial.InitializeSerial" class="method"><i></i> 初始化串口()</dt>
  <dd>初始化串口连接。</dd>
  <dt id="Serial.OpenSerial" class="method returns boolean"><i></i> 打开串口()</dt>
  <dd>打开串口连接。 打开时返回 <code class="highlighter-rouge">真</code>。</dd>
  <dt id="Serial.PrintSerial" class="method"><i></i> 打印串口(<em class="text">data</em>)</dt>
  <dd>将给定数据写入串口，并在末尾添加一个新行。</dd>
  <dt id="Serial.ReadSerial" class="method returns text"><i></i> 读取串口()</dt>
  <dd>从串口读取数据。</dd>
  <dt id="Serial.WriteSerial" class="method"><i></i> 写入串口(<em class="text">data</em>)</dt>
  <dd>将给定数据写入串口。</dd>
</dl>

<h2 id="Web"><img src="images/web.png" alt="icon" />  Web客户端</h2>

<p>为 HTTP GET、POST、PUT 和 DELETE 请求提供功能的非可视组件。</p>

<h3 id="Web-Properties">属性</h3>

<dl class="properties">
  <dt id="Web.AllowCookies" class="boolean"><em>允许使用Cookies</em></dt>
  <dd>指定是否允许使用Cookies。（Cookies是一种浏览器本地缓存技术，用于缓存一些用户个性数据、身份验证信息等。常见的如“30天免登陆”功能就是将用户登录验证信息保存到Cookies，有效期30天。还有诸如你的搜索偏好，浏览偏好等设置也是通过Cookies进行保存的）</dd>
  <dt id="Web.RequestHeaders" class="list bo"><em>请求标头</em></dt>
  <dd>设置请求标头。以下是一个请求标头示例截图：

    <p><img src="images/请求标头.png" alt="请求标头" style="border:1px solid #eee;margin-bottom:10px;" /></p>

    <p>请求标头信息，格式为<code class="highlighter-rouge">包含双项子列表的列表</code>数据。其中，各子列表中第一项表示请求头的字段名，而第二项则表示对应的字段值，既可以是单个数值，也可以是包含多个数值的列表。</p>

    <p>设置案例如下：</p>

    <p><img src="images/请求标头设置.png" alt="请求标头设置" /></p>
  </dd>
  <dt id="Web.ResponseFileName" class="text"><em>响应文件名称</em></dt>
  <dd>指定保存响应数据的文件的名称，如果 <a href="#Web.SaveResponse">保存响应信息</a> 为<code class="highlighter-rouge">真</code> 且 <a href="#Web.ResponseFileName">响应文件名称</a> 为空，则自动创建一个新文件名。</dd>
  <dt id="Web.SaveResponse" class="boolean"><em>保存响应信息</em></dt>
  <dd>指定是否将响应数据保存到文件中。</dd>
  <dt id="Web.Timeout" class="number"><em>超时时间(ms)</em></dt>
  <dd>返回每个请求在超时前等待响应的毫秒数，如果设置为<code class="highlighter-rouge">0</code>，则请求将无限期等待响应。</dd>
  <dt id="Web.Url" class="text"><em>URL网址</em></dt>
  <dd>指定待请求的URL网址.</dd>
</dl>

<h3 id="Web-Events">事件</h3>

<dl class="events">
  <dt id="Web.GotFile">获得文件(<em class="text">URL网址</em>,<em class="number">响应代码</em>,<em class="text">响应类型</em>,<em class="text">文件名</em>)</dt>
  <dd>当请求完成时触发该事件，以文件形式返回内容。</dd>
  <dt id="Web.GotText">获得文本(<em class="text">URL网址</em>,<em class="number">响应代码</em>,<em class="text">响应类型</em>,<em class="text">响应内容</em>)</dt>
  <dd>当请求完成时触发该事件，以文本形式返回内容。</dd>
  <dt id="Web.TimedOut">超时(<em class="text">URL网址</em>)</dt>
  <dd>当请求超时触发该事件。</dd>
</dl>

<h3 id="Web-Methods">方法</h3>

<dl class="methods">
  <dt id="Web.BuildRequestData" class="method returns text"><i></i> 创建数据请求(<em class="list">列表</em>)</dt>
  <dd>将表示名称和值对的二元素列表转换为 <code class="highlighter-rouge">application/x-www-form-urlencoded</code> 媒体类型格式的字符串，适合传递给<a href="#Web.PostText">执行POST文本请求</a>。</dd>
  <dt id="Web.ClearCookies" class="method"><i></i> 清除Cookies()</dt>
  <dd>清除此 Web客户端 组件的所有 Cookies。</dd>
  <dt id="Web.Delete" class="method"><i></i> 删除()</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性执行 HTTP DELETE 请求并获取响应数据。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.Get" class="method"><i></i> 执行GET请求()</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性执行 HTTP GET 请求并获取响应数据。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.HtmlTextDecode" class="method returns text"><i></i> 解码HTML文本(<em class="text">HTML文本</em>)</dt>
  <dd>解码给定的 HTML 文本值。例如：

    <table>
      <thead>
        <tr>
          <th>HTML字符</th>
          <th>—&gt; 解码后文本</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="highlighter-rouge">&amp;amp;</code></td>
          <td><code class="highlighter-rouge">&amp;</code></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">&amp;lt;</code></td>
          <td><code class="highlighter-rouge">&lt;</code></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">&amp;gt;</code></td>
          <td><code class="highlighter-rouge">&gt;</code></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">&amp;apos;</code></td>
          <td><code class="highlighter-rouge">'</code> （单引号）</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">&amp;quot;</code></td>
          <td><code class="highlighter-rouge">"</code> （双引号）</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">&amp;#xhhhh;</code></td>
          <td><code class="highlighter-rouge">&amp;#xhhhh;</code></td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">&amp;#nnnn;</code></td>
          <td><code class="highlighter-rouge">&amp;#nnnn;</code></td>
        </tr>
      </tbody>
    </table>
  </dd>
  <dt id="Web.JsonObjectEncode" class="method returns text"><i></i> 编码JSON对象(<em class="any">JSON对象</em>)</dt>
  <dd>以 JavaScript 对象表示形式返回内置类型（即布尔值、数字、文本、列表、字典）的值。

    <p>如果该值不能表示为 JSON，将触发<a href="userinterface.html#Screen">屏幕</a>的 <a href="userinterface.html#Screen.ErrorOccurred">出现错误时</a> 事件（如果有），并且 Web 组件将返回空字符串。</p>
  </dd>
  <dt id="Web.JsonTextDecode" class="method returns any"><i></i> 解码JSON文本(<em class="text">JSON文本</em>)</dt>
  <dd>解码给定的 JSON 编码值以生成相应的 AppInventor 值。

    <p>JSON 列表 <code class="highlighter-rouge">[x, y, z]</code> 解码为列表 <code class="highlighter-rouge">(x y z)</code>，具有键 A 和值 B 的 JSON 对象（表示为 <code class="highlighter-rouge">{A:B}</code>）解码为列表 <code class="highlighter-rouge">(( A B))</code>，即包含二元素列表<code class="highlighter-rouge">(A B)</code>的列表。</p>

    <p>如果你希望返回字典对象而不是结果中列表的列表，请使用方法 <a href="#Web.JsonTextDecodeWithDictionaries">JSON文本解码为字典</a>。</p>
  </dd>
  <dt id="Web.JsonTextDecodeWithDictionaries" class="method returns any"><i></i> JSON文本解码为字典(<em class="text">JSON文本</em>)</dt>
  <dd>解码给定的 JSON 编码值以生成相应的 App Inventor 值。

    <p>JSON 列表 <code class="highlighter-rouge">[x, y, z]</code> 解码为列表 <code class="highlighter-rouge">(x y z)</code>，具有名称 A 和值 B 的 JSON 对象（表示为 {a: b}）解码为具有键 a 和值 b 的字典。</p>
  </dd>
  <dt id="Web.PatchFile" class="method"><i></i> 执行PATCH文件请求(<em class="text">文件路径</em>)</dt>
  <dd>PATCH方式发送通用文件，用法类似 <a href="#Web.PostFile">执行POST文件请求</a> 。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PatchText" class="method"><i></i> 执行PATCH文本请求(<em class="text">文本</em>)</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性和指定文本执行 HTTP PATCH 请求。文本的字符集使用 UTF-8 进行编码。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PatchTextWithEncoding" class="method"><i></i> 执行PATCH编码文本请求(<em class="text">文本</em>,<em class="text">编码</em>)</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性和指定文本执行 HTTP PATCH 请求。文本的字符集使用指定的编码方式进行编码。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PostFile" class="method"><i></i> 执行POST文件请求(<em class="text">文件路径</em>)</dt>
  <dd>POST方式发送通用文件，同 curl -F 参数，可用于<strong>二进制文件上传</strong>，参考代码如下：

    <p><img src="images/上传文件到服务器.png" alt="上传文件到服务器" /></p>

    <p>文件上传服务器结果如下：</p>

    <p><img src="images/文件上传服务器结果.png" alt="文件上传服务器结果" /></p>

    <p>服务器代码请参考<a href="../pro/file_upload.html">《App Inventor 2 实现上传文件到服务器全方案总结》</a>。</p>

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PostText" class="method"><i></i> 执行POST文本请求(<em class="text">文本</em>)</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性和指定文本执行 HTTP POST 请求。文本的字符集使用 UTF-8 进行编码。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PostTextWithEncoding" class="method"><i></i> 执行POST编码文本请求(<em class="text">文本</em>,<em class="text">编码</em>)</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性和指定文本执行 HTTP POST 请求。文本的字符集使用指定的编码方式进行编码。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PutFile" class="method"><i></i> 执行PUT文件请求(<em class="text">文件路径</em>)</dt>
  <dd>PUT方式发送通用文件，用法类似 <a href="#Web.PostFile">执行POST文件请求</a> 。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PutText" class="method"><i></i> 执行PUT文本请求(<em class="text">文本</em>)</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性和指定文本执行 HTTP PUT 请求。文本的字符集使用 UTF-8 进行编码。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.PutTextWithEncoding" class="method"><i></i> 执行PUT编码文本请求(<em class="text">文本</em>,<em class="text">编码</em>)</dt>
  <dd>使用 <a href="#Web.Url">URL网址</a> 属性和指定文本执行 HTTP PUT 请求。文本的字符集使用指定的编码方式进行编码。

    <ul>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为真，则响应数据将保存在文件中，并且 <a href="#Web.GotFile">获得文件</a> 事件被触发。<a href="#Web.ResponseFileName">响应文件名称</a> 属性可用于指定文件的名称。</p>
      </li>
      <li>
        <p>如果 <a href="#Web.SaveResponse">保存响应数据</a> 属性为假，<a href="#Web.GotText">获得文本</a> 事件将触发。</p>
      </li>
    </ul>
  </dd>
  <dt id="Web.UriDecode" class="method returns text"><i></i> URI解码(<em class="text">文本</em>)</dt>
  <dd>对已编码的文本值进行URI解码操作，解码后的内容是原始的文本。如：<code class="highlighter-rouge">%E6%B8%B8%20%E6%88%8F</code> –解码–&gt; <code class="highlighter-rouge">游 戏</code>。</dd>
  <dt id="Web.UriEncode" class="method returns text"><i></i> URI编码(<em class="text">文本</em>)</dt>
  <dd>对给定的文本进行URI编码操作，编码后可用于URL网址。如：<code class="highlighter-rouge">游 戏</code> –编码–&gt; <code class="highlighter-rouge">%E6%B8%B8%20%E6%88%8F</code>。</dd>
</dl>

<ul>
  <li>空格不能用于URL网址中，需要编码成<code class="highlighter-rouge">%20</code>，中文也是一样，要编码成UTF-8格式。</li>
</ul>

<dl>
  <dt id="Web.XMLTextDecode" class="method returns any"><i></i> 解码XML文本(<em class="text">XML文本</em>)</dt>
  <dd>解码给定的 XML 字符串以生成列表对象。

    <p><code class="highlighter-rouge">&lt;tag&gt;string&lt;/tag&gt;</code> 解码为包含一个标签和字符串键值对的列表。</p>

    <p>更一般地，如果 obj1, obj2, … 是标记分隔的 XML 字符串，则 <code class="highlighter-rouge">&lt;tag&gt;obj1 obj2 ...&lt;/tag&gt;</code> 解码为一个列表，其中包含第一个元素是 tag 且第二个元素的对 是已解码 obj 的列表，按标签按字母顺序排序。</p>

    <p>例如：</p>

    <ul>
      <li><code class="highlighter-rouge">&lt;foo&gt;123&lt;/foo&gt;</code> 解码为包含一个键值对 <code class="highlighter-rouge">(foo 123)</code> 的单项列表</li>
      <li><code class="highlighter-rouge">&lt;foo&gt;1 2 3&lt;/foo&gt;</code> 解码为包含一个键值对 <code class="highlighter-rouge">(foo "1 2 3")</code> 的单项列表</li>
      <li><code class="highlighter-rouge">&lt;a&gt; &lt;bar&gt;456&lt;/bar&gt; &lt;foo&gt;1 2 3&lt;/foo&gt; &lt;/a&gt;</code> 解码为包含对 <code class="highlighter-rouge">(a X)</code> 的列表，其中 X 是一个包含 2 项的列表，分别是键值对<code class="highlighter-rouge">(bar 456)</code>和键值对<code class="highlighter-rouge">(foo "1 2 3")</code>。</li>
    </ul>

    <p>如果 obj 的序列混合了标记分隔和非标记分隔的项目，则非标记分隔的项目将从序列中拉出并用“content”标记包装。</p>

    <p>例如 <code class="highlighter-rouge">&lt;a&gt; &lt;bar&gt;456&lt;/bar&gt; many &lt;foo&gt;1 2 3&lt;/foo&gt; apples&lt;a&gt; &lt;/code&gt;</code>  解码与上面类似，除了列表 X 是一个 3项 包含额外键值对的项目列表，其第一项是字符串 “content”，第二项是列表 (many, apples)。</p>

    <p>如果结果不是格式良好的 XML，此方法会发出错误信号并返回空列表。</p>
  </dd>
  <dt id="Web.XMLTextDecodeAsDictionary" class="method returns any"><i></i> XML文本解码为字典(<em class="text">XML文本</em>)</dt>
  <dd>解码给定的 XML 字符串以生成字典对象。

    <p>该字典包括特殊键 <code class="highlighter-rouge">$tag</code>, <code class="highlighter-rouge">$localName</code>, <code class="highlighter-rouge">$namespace</code>, <code class="highlighter-rouge">$namespaceUri</code>, <code class="highlighter-rouge">$attributes</code>, 和 <code class="highlighter-rouge">$content</code>，以及指向与此处描述的结构相同的元素列表的每个节点的唯一标签。</p>

    <p><code class="highlighter-rouge">$tag</code> 键是完整的标签名称，例如 foo:bar。 <code class="highlighter-rouge">$localName</code> 是名称的本地部分（<code class="highlighter-rouge">:</code> 字符之后的所有内容）。如果给出了命名空间（<code class="highlighter-rouge">:</code> 字符之前的所有内容），则在<code class="highlighter-rouge">$namespace</code>中提供该命名空间，并在<code class="highlighter-rouge">$namespaceUri</code>中给出相应的 URI。 属性存储在 <code class="highlighter-rouge">$attributes</code> 的字典中，子节点以列表形式给出在 <code class="highlighter-rouge">$content</code> 下。</p>

    <p><strong>有关特殊Keys的更多信息</strong></p>

    <p>给出以下 XML 文档：</p>

    <div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nt">&lt;ex:Book</span> <span class="na">xmlns:ex=</span><span class="s">"http://example.com/"</span><span class="nt">&gt;</span>
     <span class="nt">&lt;ex:title</span> <span class="na">xml:lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>On the Origin of Species<span class="nt">&lt;/ex:title&gt;</span>
     <span class="nt">&lt;ex:author&gt;</span>Charles Darwin<span class="nt">&lt;/ex:author&gt;</span>
   <span class="nt">&lt;/ex:Book&gt;</span>
</code></pre></div>    </div>

    <p>解析时：</p>

    <ul>
      <li>
        <p><code class="highlighter-rouge">$tag</code> 键将是 <code class="highlighter-rouge">"ex:Book"</code></p>
      </li>
      <li>
        <p><code class="highlighter-rouge">$localName</code> 键将是 <code class="highlighter-rouge">"Book"</code></p>
      </li>
      <li>
        <p><code class="highlighter-rouge">$namespace</code> 键将是 <code class="highlighter-rouge">"ex"</code></p>
      </li>
      <li>
        <p><code class="highlighter-rouge">$namespaceUri </code> 将是 <code class="highlighter-rouge">"http://example.com/"</code></p>
      </li>
      <li>
        <p><code class="highlighter-rouge">$attributes</code> 键将是一个字典 <code class="highlighter-rouge">{}</code>（命名空间中删除了 xmlns）</p>
      </li>
      <li>
        <p><code class="highlighter-rouge">$content</code> 将是一个列表，包含解码后的<code class="highlighter-rouge">&lt;ex:title&gt;</code>和<code class="highlighter-rouge">&lt;ex:author&gt;</code>元素的两个项，第一项对应于 <code class="highlighter-rouge">&lt;ex:title&gt;</code> 元素，将有一个包含字典 <code class="highlighter-rouge">{"xml:lang": "en"}</code> 的 <code class="highlighter-rouge">$attributes</code> 键。</p>
      </li>
    </ul>

    <p>对于元素上的每个<code class="highlighter-rouge">name=value</code>属性，将<code class="highlighter-rouge">name</code>映射到<code class="highlighter-rouge">value</code>的键值对将存在于<code class="highlighter-rouge">$attributes</code>字典中。</p>

    <p>除了这些特殊键之外，还有<code class="highlighter-rouge">ex:title</code>和<code class="highlighter-rouge">ex:author</code>，以允许比遍历<code class="highlighter-rouge">$content</code>列表更快的查找速度。</p>
  </dd>
</dl>

<h2 id="SimpleBase64">SimpleBase64 <em>拓展</em></h2>

<p>SimpleBase64.aix 拓展下载：</p>

<p class="vip"><a href="extension/com.ghostfox.SimpleBase64.aix">com.ghostfox.SimpleBase64.aix</a></p>

<p>SimpleBase64 demo程序下载：</p>

<p class="vip"><a href="extension/base64_demo.aia">base64_demo.aia</a></p>

<p>提供图像的Base64编码及解码方法，便于图像文件的通信传输。此插件仅提供2个函数，使用非常方便，几乎没有学习成本。</p>

<p><img src="extension/SimpleBase64效果截图.png" alt="SimpleBase64效果截图" style="width:40%; border:1px solid #eee;" /></p>

<h3 id="SimpleBase64-Properties">属性</h3>

<p class="properties">无</p>

<h3 id="SimpleBase64-Events">事件</h3>

<p class="events">无</p>

<h3 id="SimpleBase64-Methods">方法</h3>

<ul class="methods">
  <li>EncodeImage</li>
  <li>DecodeImage</li>
</ul>

<h2 id="Mqtt"><img src="../extensions/images/mqtt_icon.png" style="width:16px;margin:-4px 5px 0 0" />MqttClient 拓展</h2>
<!--(http://ullisroboterseite.de/android-AI2-PahoMQTT-en.html)-->

<p>.aix 拓展及demo程序打包下载：</p>

<p class="vip"><a href="extension/UrsAI2Paho.zip">UrsAI2Paho.zip</a></p>

<p><code class="highlighter-rouge">MQTT</code>是机器对机器(M2M)/物联网(IoT)连接协议。它被设计为一个极其轻量级的发布/订阅消息传输协议。</p>

<p>对于需要较小代码占用空间和/或网络带宽非常宝贵的远程连接非常有用，是专为受限设备和低带宽、高延迟或不可靠的网络而设计。</p>

<p>这些原则也使该协议成为新兴的“机器到机器”(M2M)或物联网(IoT)世界的连接设备，以及带宽和电池功率非常高的移动应用的理想选择。</p>

<p>例如，它已被用于通过卫星链路与代理通信的传感器、与医疗服务提供者的拨号连接，以及一系列家庭自动化和小型设备场景。它也是移动应用的理想选择，因为它体积小，功耗低，数据包最小，并且可以有效地将信息分配给一个或多个接收器。 　　</p>

<p><strong>特点：</strong></p>
<ul>
  <li>开放消息协议，简单易实现</li>
  <li>发布订阅模式，一对多消息发布</li>
  <li>基于TCP/IP网络连接,提供有序，无损，双向连接。</li>
  <li>1字节固定报头，2字节心跳报文，最小化传输开销和协议交换，有效减少网络流量。</li>
  <li>消息QoS支持，可靠传输保证</li>
</ul>

<h2 id="Socket">ClientSocket 拓展</h2>
<!--(https://community.appinventor.mit.edu/t/tcp-ip-extension/7142)-->

<p>.aix 拓展下载：</p>

<p class="vip"><a href="extension/com.gmail.at.moicjarod.aix">com.gmail.at.moicjarod.aix</a></p>

<p>demo程序下载：</p>

<p class="vip"><a href="extension/TestSocket.aia">TestSocket.aia</a></p>

<p>提供TCP/IP连接及通信功能。</p>

<h3 id="ClientSocket-Properties">属性</h3>

<ul class="properties">
  <li>serverAddress (R/W)</li>
  <li>serverPort (R/W)</li>
  <li>timeoutms (R/W)</li>
  <li>hexaStringMode (R/W)</li>
  <li>connectionState (RO)</li>
  <li>debugMessages (RW)</li>
</ul>

<h3 id="ClientSocket-Events">事件</h3>

<ul class="events">
  <li>Connect</li>
  <li>Disconnect</li>
  <li>SendData</li>
</ul>

<h3 id="ClientSocket-Methods">方法</h3>

<ul class="methods">
  <li>DataReceived</li>
  <li>RemoteConnectionClosed</li>
</ul>

<p>发送文本消息时，<code class="highlighter-rouge">hexaStringMode</code>设为 false；发送16制消息时，<code class="highlighter-rouge">hexaStringMode</code>设为 true，例如：0x012 —&gt; “303132” 字符串发送，接收的数据也是16进制字符串。</p>

<p>连接的超时时间默认是 2000 毫秒，可以设置修改。</p>

<h5 id="已知的bug"><em>已知的bug</em>：</h5>

<ul>
  <li>
    <p>消息不能超过 1024 字节。</p>
  </li>
  <li>
    <p>如果与服务器的连接丢失（不是服务器关闭，而是 wifi 连接问题），则不会有任何事件触发（但崩溃现已修复）。</p>
  </li>
</ul>

</article>

            </div>
            <div class="cndns-right">
	<div class="cndns-right-menu menu-common" style="display:none" id="float_menu_btn">
		<a href="javascript:HideORDispMenu();" class="cndns-right-btn">
			<span class="fa fa-bars"></span>
			<p>
				切换<br />
				目录
			</p>
		</a>
	</div>
	<div class="cndns-right-menu menu-common">
		<a href="javascript:" class="cndns-right-btn">
			<span class="fa fa-qrcode"></span>
			<p>
				关注<br />
				我们
			</p>
		</a>
		<div class="cndns-right-box">
			<div class="box-border">
				<div class="sev-t">
					<img src="/static/images/weixin.jpg" />
					<i>关注我，不迷路</i>
				</div>
				<span class="arrow-right"></span>
			</div>
		</div>
	</div>
	<div class="cndns-right-menu menu-common">
		<a href="javascript:" class="cndns-right-btn">
			<span class="fa fa-wechat"></span>
			<p>
				技术<br />
				支持
			</p>
		</a>
		<div class="cndns-right-box">
			<div class="box-border">
				<div class="sev-t">
					<img src="/static/images/weixin.png" />
					<i>有技术难题，加我！</i>
				</div>
				<span class="arrow-right"></span>
			</div>
		</div>
	</div>
	<div class="cndns-right-menu menu-top" style="display:none" id="float_scrolltop">
		<a href="javascript:scroll2Top();" class="cndns-right-btn">
			<span class="fa fa-angle-up"></span>
			<i>顶部</i>
		</a>
	</div>
</div>

<div class="footer background-green">
    <div class="row container">
	<div class="col-xl-3">
	    <h4>App Inventor 2 中文网</h4>
	    <!-- <form class="form-inline" action="/action_page.php">
		 <div class="form-group has-search">
		 <span class="fa fa-search form-control-feedback"></span>
		 <input type="text" class="form-control" placeholder="Search">
		 </div>
		 </form> -->
	</div>
	<div class="col-xl-6 legal text-center">
	    <ul>
		<li>
		    <a href="https://www.fun123.cn" class="btn btn-link" role="button" target="_blank">© 2023 跟着学（上海）教育科技有限公司</a>
		</li>
		<li>
		    <a class="btn btn-link" role="button">版权所有，未经书面许可，不得转载或使用</a>
		</li>
		<li>
		    <a href="https://www.fun123.cn/Ya_tos_form.html?f=refb"
                       target="_blank" class="btn btn-link" role="button">隐私策略和使用条款</a>
		</li>
	    </ul>
	</div>
	<div class="col-xl-3 links">
		<a href="https://bbs.tsingfun.com/forum-147-1.html" target="_blank">技术支持</a><br>
		<a href="mailto:service@fun123.cn">service@fun123.cn</a>
	</div>

    </div>
</div>

</div>
    </body>
</html>
